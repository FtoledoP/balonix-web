<div class="team-selector-container" *ngIf="{ teams: teams$ | async, profile: userProfile$ | async } as data">
  <ng-container *ngIf="data.teams">
    <select 
      *ngIf="data.teams.length > 0; else noTeams" 
      (change)="onTeamSelectionChange($event)"
      class="team-select">
      <option value="" [selected]="!data.profile?.activeTeam">Seleccionar equipo...</option>
      <option *ngFor="let team of data.teams" [value]="team.id" [selected]="team.id === data.profile?.activeTeam">
        {{ team.name }}
      </option>
    </select>
    <ng-template #noTeams>
      <p class="no-teams-message">No tienes equipos</p>
    </ng-template>
  </ng-container>
</div>
